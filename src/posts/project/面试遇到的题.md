---
title: é¢è¯•é‡åˆ°çš„é¢˜
date: 2025/08/25
categories:
 - posts
tags:
 - FindCompanionsé¡¹ç›®
---
# é¢è¯•é‡åˆ°çš„é¢˜
## æ‰“å°æ ‘

### é¢˜ç›®æè¿°

>ç»™å®šä¸€ç»„èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š
>
>- `id`ï¼šèŠ‚ç‚¹ç¼–å·ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰ã€‚
>- `parentId`ï¼šçˆ¶èŠ‚ç‚¹ç¼–å·ï¼ˆå¦‚æœ `parentId = 0`ï¼Œè¡¨ç¤ºæ ¹èŠ‚ç‚¹ï¼‰ã€‚
>- `name`ï¼šèŠ‚ç‚¹åç§°ã€‚
>
>è¯·æ ¹æ®è¿™äº›èŠ‚ç‚¹å…³ç³»æ„å»ºä¸€æ£µï¼ˆæˆ–å¤šæ£µï¼‰æ ‘ï¼Œå¹¶ä»¥ç¼©è¿›çš„å½¢å¼æ‰“å°æ ‘ç»“æ„ã€‚
>
>------
>
>### ç¤ºä¾‹è¾“å…¥
>
>```
>[
> (1, 0, "AA"),
> (2, 1, "BB"),
> (3, 1, "CC"),
> (4, 3, "DD"),
> (5, 3, "EE"),
> (6, 2, "FF"),
> (7, 2, "GG"),
> (8, 4, "HH"),
> (9, 5, "II"),
> (10, 0, "JJ"),
> (11, 10, "KK"),
> (12, 10, "LL"),
> (13, 12, "MM"),
> (14, 13, "NN"),
> (15, 14, "OO")
>]
>```
>
>------
>
>### ç¤ºä¾‹è¾“å‡º
>
>```
>AA
>  BB
>    FF
>    GG
>  CC
>    DD
>      HH
>    EE
>      II
>JJ
>  KK
>  LL
>    MM
>      NN
>        OO
>```

```java
package InterviewProblems;

import java.util.*;

public class ShowMeBug {
    static class Node {
        int id;
        int parentId;
        String name;

        public Node(int id, int parentId, String name) {
            this.id = id;
            this.parentId = parentId;
            this.name = name;
        }
    }

    public static void main(String[] args) {
        List<Node> nodeList = Arrays.asList(
                new Node(1, 0, "AA"),
                new Node(2, 1, "BB"), 
                new Node(3, 1, "CC"),
                new Node(4, 3, "DD"), 
                new Node(5, 3, "EE"),
                new Node(6, 2, "FF"), 
                new Node(7, 2, "GG"),
                new Node(8, 4, "HH"), 
                new Node(9, 5, "II"),
                new Node(10, 0, "JJ"), 
                new Node(11, 10, "KK"),
                new Node(12, 10, "LL"),
                new Node(13, 12, "MM"),
                new Node(14, 13, "NN"),
                new Node(15, 14, "OO")
        );
        print(nodeList);
    }

    public static void print(List<Node> nodeList) {
        Map<Integer,List<Node>> map = new HashMap<>();
        for(Node node : nodeList){
            if(!map.containsKey(node.parentId)){
                map.put(node.parentId, new ArrayList<Node>());
            }
            map.get(node.parentId).add(node);
        }
        printTree(map, 0, 0);
    }

    private static void printTree(Map<Integer, List<Node>> map, int parentId, int depth) {
        List<Node> children = map.get(parentId);
        if(children == null){
            return;
        }
        for(Node node : children){
            StringBuilder sb = new StringBuilder();
            for(int i = 0; i < depth;i++){
                sb.append("  ");  // ä¸¤ä¸ªç©ºæ ¼ç¼©è¿›
            }
            System.out.println(sb.toString() + node.name);
            printTree(map, node.id, depth + 1);
        }
    }

}
```

## å¤šçº¿ç¨‹æ‰“å°0-200

```java
public class Main {
    private static final int MAX = 200;
    private static int num = 0;
    private static final Object lock = new Object();
    private static boolean flag = true;

    static void print() {
        Thread thread1 = new Thread(() -> {
            while (true) {
                synchronized (lock) {
                    while (!flag) { // ç­‰å¾…è½®åˆ°çº¿ç¨‹1
                        try {
                            lock.wait();//é‡Šæ”¾é”ï¼Œå¹¶ç­‰å¾…
                        } catch (InterruptedException e) {
                            throw new RuntimeException(e);
                        }
                    }
                    if (num > MAX) {
                        lock.notifyAll();//å”¤é†’åœ¨ç­‰å¾…çš„çº¿ç¨‹
                        break;
                    }
                    System.out.println("çº¿ç¨‹1: " + num++);
                    flag = false; // åˆ‡æ¢åˆ°çº¿ç¨‹2
                    lock.notifyAll();//å”¤é†’åœ¨ç­‰å¾…çš„çº¿ç¨‹
                }
            }
        });

        Thread thread2 = new Thread(() -> {
            while (true) {
                synchronized (lock) {
                    while (flag) { // ç­‰å¾…è½®åˆ°çº¿ç¨‹2
                        try {
                            lock.wait();
                        } catch (InterruptedException e) {
                            throw new RuntimeException(e);
                        }
                    }
                    if (num > MAX) {
                        lock.notifyAll();//å”¤é†’åœ¨ç­‰å¾…çš„çº¿ç¨‹
                        break;
                    }
                    System.out.println("çº¿ç¨‹2: " + num++);
                    flag = true; // åˆ‡æ¢åˆ°çº¿ç¨‹1
                    lock.notifyAll();//å”¤é†’åœ¨ç­‰å¾…çš„çº¿ç¨‹
                }
            }
        });

        thread1.start();
        thread2.start();
    }

    public static void main(String[] args) {
        print();
    }
}


```

åˆ›å»ºå¤šçº¿ç¨‹çš„æ–¹æ³•

â‘ ç»§æ‰¿Thread

```java
public class Main {
    static class MyThread extends Thread{
        @Override
        public void run(){
            System.out.println("hello");
        }
    }

    public static void main(String[] args) {
        Thread thread = new MyThread();
        thread.start();
        System.out.println("ä½ å¥½");
    }

}
```

â‘¡å®ç°Runable

```java
public class Main {
    static class MyThread implements Runnable{
        @Override
        public void run(){
            System.out.println("hello");
        }
    }

    public static void main(String[] args) {
        Thread thread = new Thread(new MyThread());
        thread.start();
        System.out.println("ä½ å¥½");
    }

}
```

â‘¢å®ç°lambda

```java
public class Main {
    public static void main(String[] args) {
        Thread t1 = new Thread(() -> {
            System.out.println(Thread.currentThread().getName() + " æ‰§è¡Œ");
        });
        t1.start();
    }
}
```





## SQLè¯­å¥

### ä¸€ã€æ•°æ®åº“æ“ä½œ

- **CREATE DATABASE**ï¼šåˆ›å»ºæ•°æ®åº“

  ```
  CREATE DATABASE test_db;
  ```

- **DROP DATABASE**ï¼šåˆ é™¤æ•°æ®åº“

  ```
  DROP DATABASE test_db;
  ```

- **USE**ï¼šåˆ‡æ¢æ•°æ®åº“

  ```
  USE test_db;
  ```

------

### ğŸ“Œ äºŒã€æ•°æ®è¡¨æ“ä½œ

- **CREATE TABLE**ï¼šåˆ›å»ºè¡¨

  ```
  CREATE TABLE users (
      id INT PRIMARY KEY AUTO_INCREMENT,
      name VARCHAR(50) NOT NULL,
      age INT,
      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
  );
  ```

- **DROP TABLE**ï¼šåˆ é™¤è¡¨

  ```
  DROP TABLE users;
  ```

- **ALTER TABLE**ï¼šä¿®æ”¹è¡¨ç»“æ„

  ```
  ALTER TABLE users ADD email VARCHAR(100);
  ALTER TABLE users DROP COLUMN age;
  ALTER TABLE users MODIFY name VARCHAR(100);
  ```

------

### ğŸ“Œ ä¸‰ã€æ•°æ®æ“ä½œï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰

- **INSERT INTO**ï¼šæ’å…¥æ•°æ®

  ```
  INSERT INTO users (name, age) VALUES ('Alice', 20);
  ```

- **UPDATE**ï¼šæ›´æ–°æ•°æ®

  ```
  UPDATE users SET age = 25 WHERE name = 'Alice';
  ```

- **DELETE**ï¼šåˆ é™¤æ•°æ®

  ```
  DELETE FROM users WHERE name = 'Alice';
  ```

- **SELECT**ï¼šæŸ¥è¯¢æ•°æ®

  ```
  SELECT id, name, age FROM users;
  SELECT * FROM users WHERE age > 18;
  ```

------

### ğŸ“Œ å››ã€æŸ¥è¯¢å…³é”®å­—

- **DISTINCT**ï¼šå»é‡

  ```
  SELECT DISTINCT age FROM users;
  ```

- **WHERE**ï¼šæ¡ä»¶

  ```
  SELECT * FROM users WHERE age >= 18;
  ```

- **AND / OR / NOT**ï¼šé€»è¾‘è¿ç®—

  ```
  SELECT * FROM users WHERE age > 18 AND name = 'Alice';
  ```

- **ORDER BY**ï¼šæ’åº

  ```
  SELECT * FROM users ORDER BY age DESC;
  ```

- **LIMIT**ï¼šé™åˆ¶æ¡æ•°ï¼ˆMySQL ç”¨æ³•ï¼‰

  ```
  SELECT * FROM users LIMIT 5;
  ```

- **BETWEEN**ï¼šèŒƒå›´æŸ¥è¯¢

  ```
  SELECT * FROM users WHERE age BETWEEN 18 AND 25;
  ```

- **IN**ï¼šé›†åˆæŸ¥è¯¢

  ```
  SELECT * FROM users WHERE name IN ('Alice', 'Bob');
  ```

- **LIKE**ï¼šæ¨¡ç³ŠæŸ¥è¯¢

  ```
  SELECT * FROM users WHERE name LIKE 'A%';  -- ä»¥ A å¼€å¤´
  SELECT * FROM users WHERE name LIKE '%e';  -- ä»¥ e ç»“å°¾
  ```

------

### ğŸ“Œ äº”ã€èšåˆä¸åˆ†ç»„

- **COUNT / SUM / AVG / MAX / MIN**

  ```
  SELECT COUNT(*) FROM users;
  SELECT AVG(age) FROM users;
  ```

- **GROUP BY**ï¼šåˆ†ç»„

  ```
  SELECT age, COUNT(*) FROM users GROUP BY age;
  ```

- **HAVING**ï¼šå¯¹åˆ†ç»„åçš„ç»“æœè¿‡æ»¤ï¼ˆåŒºåˆ«äº WHEREï¼‰

  ```
  SELECT age, COUNT(*) AS cnt FROM users GROUP BY age HAVING cnt > 1;
  ```

------

### ğŸ“Œ å…­ã€è¿æ¥æŸ¥è¯¢ï¼ˆJOINï¼‰

- **INNER JOIN**ï¼ˆå†…è¿æ¥ï¼‰

  ```
  SELECT u.id, u.name, o.order_id
  FROM users u
  INNER JOIN orders o ON u.id = o.user_id;
  ```

- **LEFT JOIN**ï¼ˆå·¦è¿æ¥ï¼‰

  ```
  SELECT u.id, u.name, o.order_id
  FROM users u
  LEFT JOIN orders o ON u.id = o.user_id;
  ```

- **RIGHT JOIN**ï¼ˆå³è¿æ¥ï¼‰

  ```
  SELECT u.id, u.name, o.order_id
  FROM users u
  RIGHT JOIN orders o ON u.id = o.user_id;
  ```

------

### ğŸ“Œ ä¸ƒã€å­æŸ¥è¯¢

- **å­æŸ¥è¯¢ï¼ˆSubqueryï¼‰**

  ```
  SELECT name FROM users WHERE id IN (
      SELECT user_id FROM orders WHERE amount > 100
  );
  ```

------

### ğŸ“Œ å…«ã€å…¶ä»–å¸¸è§å…³é”®å­—

- **AS**ï¼šåˆ«å

  ```
  SELECT name AS username FROM users;
  ```

- **UNION / UNION ALL**ï¼šåˆå¹¶æŸ¥è¯¢ç»“æœ

  ```
  SELECT name FROM users
  UNION
  SELECT name FROM employees;
  ```

- **EXISTS**ï¼šæ˜¯å¦å­˜åœ¨

  ```
  SELECT * FROM users u WHERE EXISTS (
      SELECT 1 FROM orders o WHERE o.user_id = u.id
  ```

CONCAT() - å°†å¤šä¸ªå­—ç¬¦ä¸²è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚

CHAR_LENGTH() - è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆä»¥å­—ç¬¦ä¸ºå•ä½ï¼‰ã€‚

## ä¸æƒ³è®©æ–¹æ³•æŠ›å‡ºå¼‚å¸¸è¯¥æ€ä¹ˆåŠ

è½¬åŒ–ä¸ºè¿è¡Œæ—¶å¼‚å¸¸

```java
public String readFile(String path) {
    try {
        return Files.readString(Path.of(path));
    } catch (IOException e) {
        throw new RuntimeException("æ–‡ä»¶è¯»å–å¤±è´¥", e);
    }
}

```

## å®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œç»Ÿè®¡æŒ‡å®šæ–‡ä»¶ä¸­å•è¯çš„ä¸ªæ•°

è¿™é‡Œç”¨å­—ç¬¦æµ

```java
public int countWords(String filePath) throws IOException {
    int cnt = 0;
    File file = new File(filePath);
    BufferedReader reader = new BufferedReader(new FileReader(file));
    String line;
    while ((line = reader.readLine()) != null) {
        String[] strs = line.split("\\s+"); // æŒ‰ç©ºç™½ç¬¦åˆ‡åˆ†
        for (String s : strs) {
            if (s.isEmpty() || s.equals(",") || s.equals(".")) {
                continue;
            }
            cnt++;
        }
    }
    reader.close();
    return cnt;
}
```

- **å­—èŠ‚æµï¼ˆbyte ä¸ºå•ä½ï¼‰**
  - åŸºç±»ï¼š`InputStream` / `OutputStream`
  - ç”¨æ¥å¤„ç†äºŒè¿›åˆ¶æ•°æ®ï¼ˆå›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€å‹ç¼©åŒ…â€¦ï¼‰
  - **å¸¸è§ç±»**ï¼š
    - `FileInputStream` / `FileOutputStream`ï¼ˆæ–‡ä»¶å­—èŠ‚æµï¼‰
    - `BufferedInputStream` / `BufferedOutputStream`ï¼ˆå¸¦ç¼“å†²ï¼Œæé«˜æ•ˆç‡ï¼‰
- **å­—ç¬¦æµï¼ˆchar ä¸ºå•ä½ï¼‰**
  - åŸºç±»ï¼š`Reader` / `Writer`
  - ç”¨æ¥å¤„ç†æ–‡æœ¬æ•°æ®ï¼ˆçº¯æ–‡å­—æ–‡ä»¶ï¼Œå¦‚ `.txt`ã€`.java`ï¼‰
  - **å¸¸è§ç±»**ï¼š
    - `FileReader` / `FileWriter`ï¼ˆæ–‡ä»¶å­—ç¬¦æµï¼‰
    - `BufferedReader` / `BufferedWriter`ï¼ˆå¸¦ç¼“å†²ï¼Œå¯ä»¥ `readLine()`
- **æ™®é€šæµ**ï¼šä¸€æ¬¡è¯»å†™å°±è®¿é—®åº•å±‚æ–‡ä»¶ç³»ç»Ÿï¼Œæ•ˆç‡ç›¸å¯¹ä½
- **ç¼“å†²æµ**ï¼šåœ¨å†…å­˜ä¸­åŠ äº†ä¸€å±‚ç¼“å­˜åŒºï¼ˆé»˜è®¤ 8KBï¼‰ï¼Œå‡å°‘ç£ç›˜è®¿é—®æ¬¡æ•°ï¼Œæ•ˆç‡æ›´é«˜
  - `BufferedInputStream`ã€`BufferedOutputStream`
  - `BufferedReader`ã€`BufferedWriter`

æ€ä¹ˆå®ç°é¡¹ç›®ä¸­ç¼“å­˜ä¸€è‡´æ€§çš„ï¼Ÿ

1. ç¬¬ä¸€æ¬¡åˆ é™¤ï¼šåœ¨æ›´æ–°æ•°æ®åº“å‰ï¼Œå…ˆåˆ é™¤ç¼“å­˜ã€‚

2.  2æ›´æ–°æ•°æ®åº“ï¼šæ‰§è¡Œæ•°æ®åº“çš„å†™æ“ä½œã€‚

3.   å»¶è¿Ÿç­‰å¾…ï¼šç­‰å¾…ä¸€æ®µæ—¶é—´ï¼ˆé€šå¸¸ä¸ºä¸»ä»åŒæ­¥å»¶è¿Ÿæ—¶é—´ + å°‘é‡ç¼“å†²æ—¶é—´ï¼‰ã€‚ 

4. ç¬¬äºŒæ¬¡åˆ é™¤ï¼šå†æ¬¡åˆ é™¤ç¼“å­˜ã€‚

    ç¬¬ä¸€æ¬¡åˆ é™¤çš„ç›®çš„æ˜¯ä¸ºäº†æ¸…é™¤ç¼“å­˜æ—§å€¼ï¼Œå¼ºåˆ¶åç»­è¯»è¯·æ±‚ç›´æ¥è®¿é—®æ•°æ®åº“ï¼ˆé¿å…ç›´æ¥è¿”å›æ—§ç¼“å­˜ï¼‰ã€‚

    ç¬¬äºŒæ¬¡åˆ é™¤ï¼ˆå»¶è¿Ÿåï¼‰çš„ç›®çš„æ˜¯ä¸ºäº†æ¸…é™¤åœ¨æ•°æ®åº“æ›´æ–°æœŸé—´å¯èƒ½è¢«å…¶ä»–è¯·æ±‚å†™å…¥çš„æ—§ç¼“å­˜å€¼
